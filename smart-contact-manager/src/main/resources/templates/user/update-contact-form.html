<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	  th:replace="user/base::layout(~{::section})">
<head>
<meta charset="UTF-8" />
<title>home page</title>
</head>
<body>
	<section>
		
		<div class="card mr-3 ml-3">
		
			<div class="card-body">
			
				<!-- Success of Error message -->
				<div th:if="${session.message}" class="container">
			    	<div  th:classappend="${session.message.type}" class="alert text-center" role="alert">
						<p th:text="${session.message.content}"></p>							
					</div>
					
					<th:block th:text="${#httpSession.removeAttribute('message')}"></th:block>
				</div>
			
				<!-- Heading -->
				<h1 class="text-center">UPDATE CONTACT</h1>
			
				<div class="container-fluid mt-1">
				
					<div class="row">
					
						<div class="col-md-8 offset-md-2">
						
							<form th:action="@{/user/process-update}" 
								  th:object="${contact}" class="mt-3"
								  enctype="multipart/form-data" method="post">
							
									<!-- Hidden contact id  -->
								    <input type="hidden" name="cid" th:value="${contact.cid}" />
							
							
									<!-- Contact Existing Image -->
									<div class="container text-center">
									
										<img th:src="@{'/img/'+${contact.imageUrl}}" alt="profile pic" class="profile_picture" style="height: 250px; width: 250px;" />
									
									</div>
									
									
									<!-- Select new image -->
									
									<div class="custom-file mt-3" >
									
										<p class="text-center">Select new image<p>
										<span style="margin-left: 250px;"><input type="file" name="profileImage" /></span>
									
									</div> 
									
																	
									<!-- First Name -->
									<div class="input-group mt-5">
										
										<div class="input-group-prepend">
											<div class="input-group-text">
												<i class="fa fa-plus"></i>
											</div>
										</div>
										
										<input type="text" 
											   id="firstName" 
											   name="name" 
											   th:value="${contact.name}"
											   placeholder="Enter name here" 
											   class="form-control" required
											   />
										
									</div>
							
									
									<!-- Nick Name -->
									
									<div class="input-group mt-3">
										
										<div class="input-group-prepend">
											<div class="input-group-text">
												<i class="fa fa-user-alt"></i>
											</div>
										</div>
										
										<input type="text" 
											   id="nickname" 
											   name="nickName"
											   th:value="${contact.nickName}"
											   placeholder="Enter nick name here"
											   class="form-control"
											   />
										
									</div>
									
									<!-- Phone Field -->
									
									<div class="input-group mt-3">
										
										<div class="input-group-prepend">
											<div class="input-group-text">
												<i class="fa fa-phone"></i>
											</div>
										</div>
										
										<input type="number" 
											   id="phone" 
											   name="phone" 
											   th:value="${contact.phone}"  
											   placeholder="Enter phone number here" 
											   class="form-control" min="10" required
											    />
										
									</div>
									
									<!-- Email Field -->
									
									<div class="input-group mt-3">
										
										<div class="input-group-prepend">
											<div class="input-group-text">
													@
											</div>
										</div>
										
										<input  required type="email" 
												id="email" 
												name="email" 
												th:value="${contact.email}"
												placeholder="Enter email here" 
												class="form-control"
												/>
										
									</div>
									
									<!-- Work Field -->
									
									<div class="input-group mt-3">
										
										<div class="input-group-prepend">
											<div class="input-group-text">
												<i class="fa fa-briefcase"></i>
											</div>
										</div>
										
										<input  type="text" 
												id="work" 
												name="work" 
												th:value="${contact.work}"
												placeholder="Enter work here" 
												class="form-control"
												/>
										
									</div>
									
							
									<!-- Contact Description -->
									
									<div class="form-group mt-3">
									
										<textarea name="description" 
												  th:value="${contact.description}"
												  id="mytextarea" 
												  class="form-control" 
												  rows="6" 
												  placeholder="Contact description"> 
										</textarea>
										
									</div>
									
									
								
									<div class="container text-center mt-4">
									
										<button class="btn btn-outline-primary">Update Contact</button>
									
									</div>
									
							
							</form>
						
						</div>
					
					</div>
				
				
				</div>
			
			
			</div>
		
		</div>	
		
			<script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
			
			<script>
     			 tinymce.init({
        		 selector: '#mytextarea'
      			});
    		</script>
		
	</section>
</body>
</html>